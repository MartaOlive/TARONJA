<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../tapis.css">
</head>

<body>

  <form>
    Aggregate columns:
    <span id="DialogAggregateColumnsHTML">
      <br>
      <label for="columnName">Column Name </label>
      <input id="columnName" type="text" style="margin-top: 10px; margin-bottom: 10px; ">
      <br>
      <div>
        <fieldset id="columnsFielset" style="display:inline-block">
          <legend>Select your variables/columns:</legend>


          <input type="checkbox" id="scales" name="scales" checked />
          <label for="scales">Scales</label>
          <br>


          <input type="checkbox" id="horns" name="horns" />
          <label for="horns">Horns</label>

        </fieldset>
        <fieldset id="operationsFieldSet" style="display:inline-block">
          <legend>Select your operation:</legend>
          <input type="radio" id="sum" name="TypeOfValues" value="sum" checked>
          <label for="sum">Sum</label><br>
          <input type="radio" id="product" name="TypeOfValues" value="product">
          <label for="product">Product</label><br>
          <input type="radio" id="minimalValue" name="TypeOfValues" value="minimalValue">
          <label for="minimalValue">Minimal Value</label><br>
          <input type="radio" id="maximalValue" name="TypeOfValues" value="maximalValue">
          <label for="maximalValue">Maximal Value</label><br>
          <input type="radio" id="meanValue" name="TypeOfValues" value="meanValue">
          <label for="meanValue">Mean Value</label><br>
          <input type="radio" id="variance" name="TypeOfValues" value="variance">
          <label for="variance">Variance</label><br>
          <input type="radio" id="median" name="TypeOfValues" value="median">
          <label for="median">Median</label><br>
        </fieldset>
        <br>
        <button value="add" onClick="addColumnToListAggregateColumns(event)" style="margin-bottom:10px">Add column to
          list </button>
        <div style="width:auto;border:solid black 1px ">
          <label>Columns to add</label>
          <div id="columnsBox" style="border:solid black 1px">
            <table class="tableInAddColumns" id="columnsBoxTable">
              <tr>
                <th>Operation</th>
                <th>Column name</th>
                <th>Columns</th>
                <th></th>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </span>
    <div class="center">
      <button value="default" onClick="addColumnsToTableInAggregateColumns(event)">OK</button>
      <button value="cancel" formmethod="dialog">Cancel</button>
    </div>
  </form>
  <script>
    var array = [2, 3, 5, 6, 7, 8, 11, 12, 15, 16, 20, 31, 33, 34, 45, 46]; //par, 8 par 
    var array2 = [2, 3, 5, 6, 7, 8, 11, 12, 15, 16, 20, 31, 33, 34, 36]; //impar, 7 impar
    var array3 = [2, 3, 5, 6, 7, 8, 11, 12, 15, 16, 20, 31, 33, 34]; //par, 7 impar
    var array4 = [2, 3, 5, 6, 7, 8, 11, 12, 15, 16, 20, 31, 33, 34, 36, 45, 46, 47, 48, 49, 50]; //impar, 8 par

    var qq1 = aggrFuncQ1(array4)

    function aggrFuncQ1(values) {
      var isPar, medianaPosition, q1;
	var valuesSorted = values.sort((a, b) => a - b);
	if (valuesSorted.length % 2 == 0) {
	  isPar = true;
	} else {
	  isPar = false;
	}

	if (isPar) {
	  medianaPosition = valuesSorted.length / 2; 
	  
	  if (medianaPosition% 2 == 0){//par
		numbersPerSite = medianaPosition - (medianaPosition / 2);
		q1 = (valuesSorted[numbersPerSite - 1] + valuesSorted[(numbersPerSite - 1)+1])/2;

	  }else{ 
		numbersPerSite = medianaPosition - ((medianaPosition-1) / 2); //Every side has numberPerSite -1 numbers
		 q1 = valuesSorted[numbersPerSite - 1];
	  }     
	}
	else {
	  medianaPosition = (valuesSorted.length + 1) / 2;
	  if (medianaPosition% 2 == 0){//if number is par, every side has an odd number of digits
		numbersPerSite = medianaPosition - (medianaPosition / 2);
		q1 = valuesSorted[numbersPerSite - 1];

	  }else{//if number is odd, every side has an par number of digits
		numbersPerSite = (medianaPosition -1)- ((medianaPosition -1)/ 2);
		q1 = (valuesSorted[numbersPerSite - 1] + valuesSorted[(numbersPerSite - 1)+1])/2;
	  }
	 
	}
	return q1;
    }
    console.log("q1: " + qq1)

  </script>
</body>

</html>